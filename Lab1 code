
#include <stdio.h>
#include <math.h>

void UserInputLine(float* x1, float* y1, float* x2, float* y2)
{ 
    printf("Введите координаты первой точки линии x1, y1\n");
    scanf("%f", x1);
    printf("\n");
    scanf("%f", y1);
    printf("\n Введите координаты второй точки линии x2, y2\n");
    scanf("%f", x2);
    printf("\n");
    scanf("%f", y2);
    printf("\n");
}
void UserInputDot(float* x, float* y)
{
    printf("Введите координаты точки x, y\n");
    scanf("%f", x);
    printf("\n");
    scanf("%f", y);
    printf("\n");
}
void UserInputTriangle(float* x1, float* y1, float* x2, float* y2, float* x3, float* y3)
{
    printf("Введите координаты первой точки треугольника x1, y1\n");
    scanf("%f", x1);
    printf("\n");
    scanf("%f", y1);
    printf("\n Введите координаты второй точки треугольника x2, y2\n");
    scanf("%f", x2);
    printf("\n");
    scanf("%f", y2);
    printf("\nВведите координаты третьей точки треугольника x3, y3\n");
    scanf("%f", x3);
    printf("\n");
    scanf("%f", y3);
    printf("\n");
}
void Problem1()
{
    
    float k, b, x1, y1, x2, y2, x3, y3, det, det1, det2;
    UserInputLine(&x1, &y1, &x2, &y2);
    
    while ((x1==x2) && (y1==y2)) 
    {
        printf("это не линия\n");
        UserInputLine(&x1, &y1, &x2, &y2);
    }
    UserInputDot(&x3, &y3);
    
    
    det = x1-x2; 
    det1 = y1-y2; 
    det2 = x1*y2-x2*y1; 
    
    if (det == 0)
    {
        if (x3>x1)
            printf("справа");
        else if (x3<x1)
            printf("слева");
        else
            printf("на прямой");
        return;
    }
    
    k = det1/det; 
    b = det2/det; 
    
    if  (y3==x3*k+b)
        printf("на прямой\n");
    else
    {
        if (y3>x3*k+b)
            printf("выше\n");
        else
            printf("ниже\n");
    }
}
void Problem2()
{
    float k0, k1, k2, k3, b0, b1, b2, b3, x1, y1, x2, y2, x3, y3, x4, y4, det, det1, det2; 
    UserInputTriangle(&x1, &y1, &x2, &y2, &x3, &y3);
    
    while ((x1==x2)||(x2==x3)||(x3==x1) || (y3==round(x3*((y1-y2)/(x1-x2))+((x1*y2-x2*y1)/(x1-x2)))))
    {
        if ((x1==x2)||(x2==x3)||(x3==x1))
            printf("данная программа не работает с вертикальными линиями\n");
        if (y3 == round(x3*((y1-y2)/(x1-x2))+((x1*y2-x2*y1)/(x1-x2))))
            printf("это не треугольник\n");
        UserInputTriangle(&x1, &y1, &x2, &y2, &x3, &y3);
    }
    UserInputDot(&x4, &y4);
        
    
    det = x1-x2; 
    det1 = y1-y2; 
    det2 = x1*y2-x2*y1; 
    k1 = det1/det;
    b1 = det2/det;
    
    det = x2-x3; 
    det1 = y2-y3; 
    det2 = x2*y3-x3*y2; 
    k2 = det1/det;
    b2 = det2/det;
    
    det = x3-x1; 
    det1 = y3-y1; 
    det2 = x3*y1-x1*y3; 
    k3 = det1/det;
    b3 = det2/det;
    
    if ( ((y4 > x4*k1+b1)==(y3<x3*k1+b1)) && ((y4 > x4*k2+b2)==(y1<x1*k2+b2)) )   
        printf("сектор 1\n");
    if ( ((y4 < x4*k1+b1)==(y3<x3*k1+b1)) && ((y4 > x4*k2+b2)==(y1<x1*k2+b2)) && ((y4 > x4*k3+b3)==(y2>x2*k3+b3)) ) 
        printf("сектор 2\n");
    if ( ((y4 > x4*k2+b2)==(y1<x1*k2+b2)) && ((y4 < x4*k3+b3)==(y2>x2*k3+b3)) )  
        printf("сектор 3\n");
    if ( ((y4 < x4*k3+b3)==(y2>x2*k3+b3)) && ((y4 < x4*k1+b1)==(y3<x3*k1+b1)) && ((y4 < x4*k2+b2)==(y1<x1*k2+b2)) ) 
        printf("сектор 4\n");
    if ( ((y4 < x4*k3+b3)==(y2>x2*k3+b3)) && ((y4 > x4*k1+b1)==(y3<x3*k1+b1)) )  
        printf("сектор 5\n");
    if ( ((y4 > x4*k1+b1)==(y3<x3*k1+b1)) && ((y4 > x4*k3+b3)==(y2>x2*k3+b3)) && ((y4 < x4*k2+b2)==(y1<x1*k2+b2)) )   
        printf("сектор 6\n");
    if ( ((y4 < x4*k1+b1)==(y3<x3*k1+b1)) && ((y4 < x4*k2+b2)==(y1<x1*k2+b2)) && ((y4 > x4*k3+b3)==(y2>x2*k3+b3)) )   
        printf("сектор 7\n");
}

int main()
{
    printf("программа работает с большей точностью с целыми числами\n");
    //Problem1();
    Problem2();
    
    return 0;
}
